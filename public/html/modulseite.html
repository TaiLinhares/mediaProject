<!doctype html>
<html>
<head>
    <meta charset="utf-8">
		<title>TU Berlin | Einf&uuml;hrung in die Programmierung</title>
		<script src="../js/libs/plotly-latest.min.js"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
		<link rel="stylesheet" href="../css/main.css">
		<link rel="stylesheet" href="./../js/libs/jquery.rateyo.css">
		<link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
		<script src="../js/libs/jquery-1.12.4.min.js"></script>
		<script src="./../js/graphsModulseite.js"></script>
		<script src="./../js/courses/coursesInfo.js"></script>
		<script src="./../js/libs/jquery.rateyo.min.js"></script>
		<script src="./../js/helpFunctions/starRating.js"></script>
    <script>
	
		function openFilter(evt, FilterName) {
		// Declare all variables
		var i, tabcontent, tablinks;

		// Get all elements with class="tabcontent" and hide them
		tabcontent = document.getElementsByClassName("tabcontent");
		for (i = 0; i < tabcontent.length; i++) {
			tabcontent[i].style.display = "none";
		}

		// Get all elements with class="tablinks" and remove the class "active"
		tablinks = document.getElementsByClassName("tablinks");
		for (i = 0; i < tablinks.length; i++) {
			tablinks[i].className = tablinks[i].className.replace(" active", "");
		}
		
		// Getting the index of the course in the json file
		var urlParams = new URLSearchParams(window.location.search);
		var indexCourse = urlParams.get('index');
		console.log(indexCourse);
		

		// Show the current tab, and add an "active" class to the button that opened the tab
		document.getElementById(FilterName).style.display = "block";
		evt.currentTarget.className += " active";
		if (FilterName == 'Gesamtbewertung')
      buildGraph1('#myDiv5', indexCourse );
    else if (FilterName == 'Zeitaufwand')
      buildGraph2('#myDiv6', indexCourse);
    else if (FilterName == 'Schwierigkeit')
      buildGraph3('#myDiv7', indexCourse);
    else {
      buildGraph1('#myDiv5', indexCourse);
		}
		}
	</script>
</head>

<body>
	<header>
		<a href="http://tu-berlin.de" target="_blank"><img id="logo" src="../images/TU_Logo_lang_RGB_rot.svg" alt="Logo TU Berlin"></a>
		<div id="hintergrund"></div>
		<img id="banner" src="../images/TU_Bild-Hausecke_RGB.jpg" alt="Banner Hausecke">
	</header>
	
	<main>
		<a href="../index.html#ranking"><button class="ownbutton" id="backbutton" type="button">Zurück zur Übersicht!</button></a>
		<h1 id= 'courseName'></h1>
		<hr class="trennlinie">
		<div class="modulbeschreibung">
			<h3 class="modultitel">Modulinformationen</h3>
			<hr class="trennlinie">
			<p>
				<table>
		 			<tr class="tabellenkopf">
		    			<td>Leistungspunkte</td>
		    			<td>Semesterwochenstunden</td>
		    			<td>Turnus</td>
		  			</tr>
		  			<tr>
		    			<td id='lp'></td>
		    			<td id='sws'></td>
		    			<td id='turnus'></td>
		  			</tr>
				</table>
			</p>
			<p>
				Link zu Moses: <a target="_blank" id='mosesLink'></a>
		</div>
		<div class="tab">
		  <button class="tablinks" onclick="openFilter(event, 'Gesamtbewertung')" id="defaultOpen">Gesamtbewertung</button>
		  <button class="tablinks" onclick="openFilter(event, 'Zeitaufwand')">Zeitaufwand</button>
		  <button class="tablinks" onclick="openFilter(event, 'Schwierigkeit')">Schwierigkeit</button>
		</div>
		
		<div id="Gesamtbewertung" class="tabcontent">
      <p>
      <ol>
        <div id="myDiv5"><!-- Plotly chart will be drawn inside this DIV --></div>
      </ol>
      </p>
		</div>

		<div id="Zeitaufwand" class="tabcontent">
				<p>
				<ol>
					<div id="myDiv6"><!-- Plotly chart will be drawn inside this DIV --></div>
				</ol>
				</p>
			</div>

			<div id="Schwierigkeit" class="tabcontent">
					<p>
					<ol>
						<div id="myDiv7"><!-- Plotly chart will be drawn inside this DIV --></div>
					</ol>
					</p>
				</div>

		<div class="diagramme">
			<details>
			  <summary>Überblick <div id="rateYo" style = "float: right;"></div></summary>
				<p>Hier kommt der ausführliche Inhalt zum Punkt 1</p>
				<div id="myDiv4"><!-- Plotly chart will be drawn inside this DIV --></div>

			  <img width="80%" src="../images/Kompetenzbereich-Diagramme-1.png">
			</details>
			<details>
			  <summary>Aufgaben <div id="rateYo2" style = "float: right;"></div></summary>
			  <p>Hier kommt der ausführliche Inhalt zum Punkt 1</p>
			  <img width="80%" src="../images/Kompetenzbereich-Diagramme-1.png">
			</details>
			<details>
			  <summary>Tutorium <div id="rateYo3" style = "float: right;"></div></summary>
			  <p>Hier kommt der ausführliche Inhalt zum Punkt 1</p>
			  <img width="80%" src="../images/Kompetenzbereich-Diagramme-1.png">
			</details>
			<details>
			  <summary>Verständnis <div id="rateYo4" style = "float: right;"></div></summary>
			  <p>Hier kommt der ausführliche Inhalt zum Punkt 1</p>
			  <img width="80%" src="../images/Kompetenzbereich-Diagramme-1.png">
			</details>
			<details>
			  <summary>Vorlesungsstil <div id="rateYo5" style = "float: right;"></div></summary>
			  <p>Hier kommt der ausführliche Inhalt zum Punkt 1</p>
			  <img width="80%" src="../images/Kompetenzbereich-Diagramme-1.png">
			</details>
			<details>
			  <summary>Medieneinsatz <div id="rateYo6" style = "float: right;"></div></summary>
			  <p>Hier kommt der ausführliche Inhalt zum Punkt 1</p>
			  <img width="80%" src="../images/Kompetenzbereich-Diagramme-1.png">
			</details>
			<details>
			  <summary>Skript <div id="rateYo7" style = "float: right;"></div></summary>
			  <p>Hier kommt der ausführliche Inhalt zum Punkt 1</p>
			  <img width="80%" src="../images/Kompetenzbereich-Diagramme-1.png">
			</details>
			<details>
			  <summary>Motivation <div id="rateYo8" style = "float: right;"></div></summary>
			  <p>Hier kommt der ausführliche Inhalt zum Punkt 1</p>
			  <img width="80%" src="../images/Kompetenzbereich-Diagramme-1.png">
			</details>
			
		</div>
		<script>
		// Get the element with id="defaultOpen" and click on it
		document.getElementById("defaultOpen").click(); 

		//building the page - Data comes from js/courses/EinPro.js
		// Course name comes inside the url
		
		var urlParams = new URLSearchParams(window.location.search);
		var CourseParam = urlParams.get('course');

		$('#courseName').text(eval(CourseParam).name); 
		$('#lp').text(eval(CourseParam).lp); 
		$('#sws').text(eval(CourseParam).sws); 
		$('#turnus').text(eval(CourseParam).turnus);  
		$('#mosesLink').text(eval(CourseParam).name);
		$('#mosesLink').attr('href', eval(CourseParam).link);
		
		</script>

		
</body>
</html>